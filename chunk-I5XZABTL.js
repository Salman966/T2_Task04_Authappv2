import{B as l,C as u,D as o,E as a,F as _,G as m,H as g,I as s,J as d,K as h,U as C,V as x,W as P,Y as O,_ as M,aa as y,q as v,r as i,t as p,u as f,y as c}from"./chunk-IAPTH6BQ.js";function T(n,r){if(n&1&&(o(0,"div",11)(1,"h3"),s(2),a(),o(3,"p"),s(4),a()()),n&2){let t=r.$implicit;i(2),d(t.title),i(2),d(t.body)}}function D(n,r){if(n&1&&(o(0,"div"),c(1,T,5,2,"div",10),a()),n&2){let t=g();i(),l("ngForOf",t.allPosts)}}function S(n,r){if(n&1&&(o(0,"div",11)(1,"h3"),s(2),a(),o(3,"p"),s(4),a()()),n&2){let t=r.$implicit;i(2),d(t.title),i(2),d(t.body)}}function k(n,r){if(n&1&&(o(0,"div"),c(1,S,5,2,"div",10),a()),n&2){let t=g();i(),l("ngForOf",t.userPosts)}}var I=class n{constructor(r,t,e){this.http=r;this.router=t;this.route=e}user=null;allPosts=[];userPosts=[];activeTab="all";ngOnInit(){if(this.user=this.route.snapshot.data.user,console.log("Dashboard loaded. User:",this.user),!this.user){console.warn("User not authenticated. Redirecting..."),this.router.navigate(["/"],{replaceUrl:!0});return}this.http.get("https://dummyjson.com/posts").subscribe(r=>{this.allPosts=r.posts,this.userPosts=r.posts.filter(t=>t.userId===this.user?.id)})}logout(){localStorage.removeItem("authUser"),this.router.navigateByUrl("/",{replaceUrl:!0})}switchTab(r){this.activeTab=r}static \u0275fac=function(t){return new(t||n)(p(O),p(y),p(M))};static \u0275cmp=f({type:n,selectors:[["app-dashboard"]],decls:19,vars:10,consts:[[1,"dashboard"],[1,"header"],[1,"user-info"],["alt","User Image",1,"user-image",3,"src"],[1,"user-details"],[1,"logout-button",3,"click"],[1,"tabs"],[3,"click"],[1,"posts"],[4,"ngIf"],["class","post",4,"ngFor","ngForOf"],[1,"post"]],template:function(t,e){t&1&&(o(0,"div",0)(1,"div",1)(2,"div",2),_(3,"img",3),o(4,"div",4)(5,"h2"),s(6),a(),o(7,"p"),s(8),a()()(),o(9,"button",5),m("click",function(){return e.logout()}),s(10,"Logout"),a()(),o(11,"div",6)(12,"button",7),m("click",function(){return e.switchTab("all")}),s(13,"All Posts"),a(),o(14,"button",7),m("click",function(){return e.switchTab("mine")}),s(15,"My Posts"),a()(),o(16,"div",8),c(17,D,2,1,"div",9)(18,k,2,1,"div",9),a()()),t&2&&(i(3),l("src",e.user==null?null:e.user.image,v),i(3),h("",e.user==null?null:e.user.firstName," ",e.user==null?null:e.user.lastName,""),i(2),d(e.user==null?null:e.user.email),i(4),u("active",e.activeTab==="all"),i(2),u("active",e.activeTab==="mine"),i(3),l("ngIf",e.activeTab==="all"),i(),l("ngIf",e.activeTab==="mine"))},dependencies:[P,C,x],styles:[".dashboard[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:20px}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.user-info[_ngcontent-%COMP%]{display:flex;align-items:center}.user-image[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:50%;margin-right:15px}.user-details[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:20px}.user-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#666}.logout-button[_ngcontent-%COMP%]{background-color:#f44336;color:#fff;border:none;padding:10px 20px;border-radius:5px;cursor:pointer}.tabs[_ngcontent-%COMP%]{display:flex;margin-bottom:20px}.tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;padding:10px;border:none;background-color:#eee;cursor:pointer;border-radius:5px 5px 0 0}.tabs[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:#ccc;font-weight:700}.posts[_ngcontent-%COMP%]{border:1px solid #ccc;border-top:none;padding:20px;border-radius:0 0 5px 5px;background-color:#f9f9f9}.post[_ngcontent-%COMP%]{border-bottom:1px solid #ddd;padding:10px 0}.post[_ngcontent-%COMP%]:last-child{border-bottom:none}"]})};export{I as DashboardComponent};
